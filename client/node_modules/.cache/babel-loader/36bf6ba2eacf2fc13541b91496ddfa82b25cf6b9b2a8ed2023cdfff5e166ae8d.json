{"ast":null,"code":"var _jsxFileName = \"/home/dennohdev/Practice/beauty-store/client/src/context/ProductsContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from \"react\";\nimport { UserContext } from \"../context/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductsContext = /*#__PURE__*/createContext();\nconst ProductsProvider = ({\n  children\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [cartProducts, setCartProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const {\n    authToken\n  } = useContext(UserContext);\n  const url = \"http://localhost:5000\";\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n      Authorization: `Bearer ${authToken}`\n    }\n  };\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`${url}/products`);\n        const data = await response.json();\n        setProducts(data.products);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error Fetching Products: ', error);\n      }\n    };\n    getProducts();\n  }, []);\n  console.log(\"Products: \", products);\n\n  // Fetch items from the cart\n  useEffect(() => {\n    const getCartProducts = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`${url}/cart/items`, requestOptions);\n        const data = await response.json();\n        setProducts(data.products);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error Fetching Products: ', error);\n      }\n    };\n    getCartProducts();\n  }, [requestOptions]);\n  return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n    value: {\n      products,\n      loading\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductsProvider, \"jl597ueFsMAUv/JPut9b6qKr8hg=\");\n_c = ProductsProvider;\nconst useProducts = () => {\n  _s2();\n  const context = useContext(ProductsContext);\n  if (context === undefined) {\n    throw new Error(\"useProducts must be used within a ProductsProvider\");\n  }\n  return context;\n};\n_s2(useProducts, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport { ProductsProvider, useProducts };\nvar _c;\n$RefreshReg$(_c, \"ProductsProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","UserContext","jsxDEV","_jsxDEV","ProductsContext","ProductsProvider","children","_s","products","setProducts","cartProducts","setCartProducts","loading","setLoading","authToken","url","requestOptions","method","headers","Authorization","getProducts","response","fetch","data","json","error","console","log","getCartProducts","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useProducts","_s2","context","undefined","Error","$RefreshReg$"],"sources":["/home/dennohdev/Practice/beauty-store/client/src/context/ProductsContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from \"react\";\nimport { UserContext } from \"../context/UserContext\";\n\nconst ProductsContext = createContext();\n\nconst ProductsProvider = ({ children }) => {\n    const [products, setProducts] = useState([]);\n    const [cartProducts, setCartProducts] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const {authToken} = useContext(UserContext)\n    const url = \"http://localhost:5000\"\n\n    const requestOptions = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          Authorization: `Bearer ${authToken}`,\n        },\n      }\n\n      useEffect(() => {\n        const getProducts = async () => {\n          try{\n            setLoading(true);\n          const response = await fetch(`${url}/products`);\n          const data = await response.json();\n          setProducts(data.products);\n          setLoading(false);\n          } catch (error) {\n            console.error('Error Fetching Products: ', error);\n          }\n        };\n        getProducts();\n      }, []);\n\n      console.log(\"Products: \", products)\n      \n      // Fetch items from the cart\n      useEffect(() => {\n        const getCartProducts = async () => {\n          try{\n            setLoading(true);\n          const response = await fetch(`${url}/cart/items`, requestOptions);\n          const data = await response.json();\n          setProducts(data.products);\n          setLoading(false);\n          } catch (error) {\n            console.error('Error Fetching Products: ', error);\n          }\n        };\n        getCartProducts();\n      }, [requestOptions]);\n    return (\n        <ProductsContext.Provider value={{products, loading}}>\n            {children}\n        </ProductsContext.Provider>\n    );\n};\n\nconst useProducts = () => {\n    const context = useContext(ProductsContext);\n    if (context === undefined) {\n        throw new Error(\"useProducts must be used within a ProductsProvider\");\n    }\n    return context;\n};\n\nexport { ProductsProvider, useProducts };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}